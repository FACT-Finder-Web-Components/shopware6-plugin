{% block element_asn %}
  {% set config = element.config %}
  {% sw_include '@Parent/storefront/components/factfinder/asn.html.twig' with {
    vertical: config.vertical.value,
    subscribe: config.subscribe.value,
    filterCloud: config.filterCloud.value,
    filterCloudBlacklist: config.filterCloudBlacklist.value,
    topic: config.topic.value
  } %}

  <script>
    document.addEventListener('ffReady', function ({resultDispatcher}) {
      {% if config.callback.value %}
      resultDispatcher.addCallback("{{ config.topic.value|default('asn') }}", groups => {
        {{ config.callback.value|raw }}
      });
      {% endif %}
    });
  </script>
{% endblock %}

(()=>{"use strict";var e={857:e=>{var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==r},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o(Array.isArray(e)?[]:{},e,t):e}function i(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function s(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function a(e,t){try{return t in e}catch(e){return!1}}function o(e,r,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=n;var l,u,f=Array.isArray(r);return f!==Array.isArray(e)?n(r,c):f?c.arrayMerge(e,r,c):(u={},(l=c).isMergeableObject(e)&&s(e).forEach(function(t){u[t]=n(e[t],l)}),s(r).forEach(function(t){(!a(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(a(e,t)&&l.isMergeableObject(r[t])?u[t]=(function(e,t){if(!t.customMerge)return o;var r=t.customMerge(e);return"function"==typeof r?r:o})(t,l)(e[t],r[t],l):u[t]=n(r[t],l))}),u)}o.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return o(e,r,t)},{})},e.exports=o}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e=r(857),t=r.n(e);class n{static ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static lcFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toDashCase(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(e,t){let r=n.toUpperCamelCase(e,t);return n.lcFirst(r)}static toUpperCamelCase(e,t){return t?e.split(t).map(e=>n.ucFirst(e.toLowerCase())).join(""):n.ucFirst(e.toLowerCase())}static parsePrimitive(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}class i{static isNode(e){return"object"==typeof e&&null!==e&&(e===document||e===window||e instanceof Node)}static hasAttribute(e,t){if(!i.isNode(e))throw Error("The element must be a valid HTML Node!");return"function"==typeof e.hasAttribute&&e.hasAttribute(t)}static getAttribute(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(r&&!1===i.hasAttribute(e,t))throw Error('The required property "'.concat(t,'" does not exist!'));if("function"!=typeof e.getAttribute){if(r)throw Error("This node doesn't support the getAttribute function!");return}return e.getAttribute(t)}static getDataAttribute(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],s=t.replace(/^data(|-)/,""),a=n.toLowerCamelCase(s,"-");if(!i.isNode(e)){if(r)throw Error("The passed node is not a valid HTML Node!");return}if(void 0===e.dataset){if(r)throw Error("This node doesn't support the dataset attribute!");return}let o=e.dataset[a];if(void 0===o){if(r)throw Error('The required data attribute "'.concat(t,'" does not exist on ').concat(e,"!"));return o}return n.parsePrimitive(o)}static querySelector(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(r&&!i.isNode(e))throw Error("The parent node is not a valid HTML Node!");let n=e.querySelector(t)||!1;if(r&&!1===n)throw Error('The required element "'.concat(t,'" does not exist in parent node!'));return n}static querySelectorAll(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(r&&!i.isNode(e))throw Error("The parent node is not a valid HTML Node!");let n=e.querySelectorAll(t);if(0===n.length&&(n=!1),r&&!1===n)throw Error('At least one item of "'.concat(t,'" must exist in parent node!'));return n}}class s{publish(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new CustomEvent(e,{detail:t,cancelable:r});return this.el.dispatchEvent(n),n}subscribe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this,i=e.split("."),s=r.scope?t.bind(r.scope):t;if(r.once&&!0===r.once){let t=s;s=function(r){n.unsubscribe(e),t(r)}}return this.el.addEventListener(i[0],s),this.listeners.push({splitEventName:i,opts:r,cb:s}),!0}unsubscribe(e){let t=e.split(".");return this.listeners=this.listeners.reduce((e,r)=>([...r.splitEventName].sort().toString()===t.sort().toString()?this.el.removeEventListener(r.splitEventName[0],r.cb):e.push(r),e),[]),!0}reset(){return this.listeners.forEach(e=>{this.el.removeEventListener(e.splitEventName[0],e.cb)}),this.listeners=[],!0}get el(){return this._el}set el(e){this._el=e}get listeners(){return this._listeners}set listeners(e){this._listeners=e}constructor(e=document){this._el=e,e.$emitter=this,this._listeners=[]}}class a{init(){throw Error('The "init" method for the plugin "'.concat(this._pluginName,'" is not defined.'))}update(){}_init(){this._initialized||(this.init(),this._initialized=!0)}_update(){this._initialized&&this.update()}_mergeOptions(e){let r=n.toDashCase(this._pluginName),s=i.getDataAttribute(this.el,"data-".concat(r,"-config"),!1),a=i.getAttribute(this.el,"data-".concat(r,"-options"),!1),o=[this.constructor.options,this.options,e];s&&o.push(window.PluginConfigManager.get(this._pluginName,s));try{a&&o.push(JSON.parse(a))}catch(e){throw console.error(this.el),Error('The data attribute "data-'.concat(r,'-options" could not be parsed to json: ').concat(e.message))}return t().all(o.filter(e=>e instanceof Object&&!(e instanceof Array)).map(e=>e||{}))}_registerInstance(){window.PluginManager.getPluginInstancesFromElement(this.el).set(this._pluginName,this),window.PluginManager.getPlugin(this._pluginName,!1).get("instances").push(this)}_getPluginName(e){return e||(e=this.constructor.name),e}constructor(e,t={},r=!1){if(!i.isNode(e))throw Error("There is no valid element given.");this.el=e,this.$emitter=new s(this.el),this._pluginName=this._getPluginName(r),this.options=this._mergeOptions(t),this._initialized=!1,this._registerInstance(),this._init()}}class o{static isTouchDevice(){return"ontouchstart"in document.documentElement}static isIOSDevice(){return o.isIPhoneDevice()||o.isIPadDevice()}static isNativeWindowsBrowser(){return o.isIEBrowser()||o.isEdgeBrowser()}static isIPhoneDevice(){return!!navigator.userAgent.match(/iPhone/i)}static isIPadDevice(){return!!navigator.userAgent.match(/iPad/i)}static isIEBrowser(){return -1!==navigator.userAgent.toLowerCase().indexOf("msie")||!!navigator.userAgent.match(/Trident.*rv:\d+\./)}static isEdgeBrowser(){return!!navigator.userAgent.match(/Edge\/\d+/i)}static getList(){return{"is-touch":o.isTouchDevice(),"is-ios":o.isIOSDevice(),"is-native-windows":o.isNativeWindowsBrowser(),"is-iphone":o.isIPhoneDevice(),"is-ipad":o.isIPadDevice(),"is-ie":o.isIEBrowser(),"is-edge":o.isEdgeBrowser()}}}class c{static iterate(e,t){if(e instanceof Map||Array.isArray(e))return e.forEach(t);if(e instanceof FormData){for(var r of e.entries())t(r[1],r[0]);return}if(e instanceof NodeList)return e.forEach(t);if(e instanceof HTMLCollection)return Array.from(e).forEach(t);if(e instanceof Object)return Object.keys(e).forEach(r=>{t(e[r],r)});throw Error("The element type ".concat(typeof e," is not iterable!"))}}let l="offcanvas";class u{open(e,t,r,n,i,s,a){this._removeExistingOffCanvas();let o=this._createOffCanvas(r,s,a,n);this.setContent(e,n,i),this._openOffcanvas(o,t)}setContent(e,t){let r=this.getOffCanvas();r[0]&&(r[0].innerHTML=e,this._registerEvents(t))}setAdditionalClassName(e){this.getOffCanvas()[0].classList.add(e)}getOffCanvas(){return document.querySelectorAll(".".concat(l))}close(e){let t=this.getOffCanvas();c.iterate(t,e=>{bootstrap.Offcanvas.getInstance(e).hide()}),setTimeout(()=>{this.$emitter.publish("onCloseOffcanvas",{offCanvasContent:t})},e)}goBackInHistory(){window.history.back()}exists(){return this.getOffCanvas().length>0}_openOffcanvas(e,t){u.bsOffcanvas.show(),window.history.pushState("offcanvas-open",""),"function"==typeof t&&t()}_registerEvents(e){let t=o.isTouchDevice()?"touchend":"click",r=this.getOffCanvas();c.iterate(r,t=>{let n=()=>{setTimeout(()=>{t.remove(),this.$emitter.publish("onCloseOffcanvas",{offCanvasContent:r})},e),t.removeEventListener("hide.bs.offcanvas",n)};t.addEventListener("hide.bs.offcanvas",n)}),window.addEventListener("popstate",this.close.bind(this,e),{once:!0});let n=document.querySelectorAll(".".concat("js-offcanvas-close"));c.iterate(n,r=>r.addEventListener(t,this.close.bind(this,e)))}_removeExistingOffCanvas(){u.bsOffcanvas=null;let e=this.getOffCanvas();return c.iterate(e,e=>e.remove())}_getPositionClass(e){return"left"===e?"offcanvas-start":"right"===e?"offcanvas-end":"offcanvas-".concat(e)}_createOffCanvas(e,t,r,n){let i=document.createElement("div");if(i.classList.add(l),i.classList.add(this._getPositionClass(e)),!0===t&&i.classList.add("is-fullwidth"),r){let e=typeof r;if("string"===e)i.classList.add(r);else if(Array.isArray(r))r.forEach(e=>{i.classList.add(e)});else throw Error('The type "'.concat(e,'" is not supported. Please pass an array or a string.'))}return document.body.appendChild(i),u.bsOffcanvas=new bootstrap.Offcanvas(i,{backdrop:!1!==n||"static"}),i}constructor(){this.$emitter=new s}}let f=Object.freeze(new u);class d{static open(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";f.open(e,t,r,n,i,s,a)}static setContent(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350;f.setContent(e,t,r)}static setAdditionalClassName(e){f.setAdditionalClassName(e)}static close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:350;f.close(e)}static exists(){return f.exists()}static getOffCanvas(){return f.getOffCanvas()}static REMOVE_OFF_CANVAS_DELAY(){return 350}}class h extends a{init(){this._registerEventListeners()}_registerEventListeners(){this.el.addEventListener("click",this._onClickOffCanvasFilter.bind(this))}_onCloseOffCanvas(e){let t=e.detail.offCanvasContent[0];document.querySelector('[data-off-canvas-filter-content="true"]').innerHTML=t.innerHTML,document.$emitter.unsubscribe("onCloseOffcanvas",this._onCloseOffCanvas.bind(this)),window.PluginManager.getPluginInstances("Listing")[0].refreshRegistry()}_onClickOffCanvasFilter(e){e.preventDefault();let t=document.querySelector('[data-off-canvas-filter-content="true"]');if(!t)throw Error('There was no DOM element with the data attribute "data-offcanvas-filter-content".');d.open(t.innerHTML,()=>{},"bottom",!0,d.REMOVE_OFF_CANVAS_DELAY(),!0,"offcanvas-filter"),i.querySelector(t,".filter-panel").remove(),window.PluginManager.getPluginInstances("Listing")[0].refreshRegistry(),document.$emitter.subscribe("onCloseOffcanvas",this._onCloseOffCanvas.bind(this)),this.$emitter.publish("onClickOffCanvasFilter")}}let g=window.PluginManager;g.register("TrackingPlugin",class extends a{init(){this.registerEvents()}registerEvents(){window.PluginManager.getPluginInstances("AddToCart").forEach(e=>e.$emitter.subscribe("beforeFormSubmit",this.trackAddToCart.bind(this)))}getQuantity(e){if("count_as_one"===ffTrackingSettings.addToCart.count)return 1;try{let t=i.querySelector(e,'[name$="[quantity]"]');return parseInt(t.value,10)}catch(e){return 1}}async trackAddToCart(e){let t=i.querySelector(e.target,'[name="product-number"]'),r=this.getQuantity(e.target);t&&new Promise(e=>{void 0!==window.factfinder?e(window.factfinder):document.addEventListener("ffReady",t=>e(t.factfinder))}).then(e=>{let n=e.communication.Util.trackingHelper;e.communication.EventAggregator.addFFEvent({type:"getRecords",recordId:t.value,idType:"productNumber",success:t=>{let[i]=t,s=e.communication.fieldRoles;e.communication.Tracking.cart({id:(e=>{let{record:t}=e;return t[s.trackingProductNumber]||t[s.productNumber]})(i),masterId:(e=>{let{record:t}=e;return t[s.masterArticleNumber]||t[s.masterId]})(i),price:n.getPrice(i),title:n.getTitle(i),count:r})}})})}}),g.register("AsnPlugin",class extends a{init(){this.registerEvents()}registerEvents(){document.addEventListener("click",this._handleToggleFilter.bind(this))}_handleToggleFilter(e){let t=e=>this._eventPath(e).find(e=>"FF-ASN-GROUP"===e.tagName);t(e)||document.querySelectorAll("ff-asn-group").forEach(e=>{e.opened&&e.toggle(!0)}),t(e)&&(e=>{let t=e.target.closest("ff-asn-group");return[...document.querySelectorAll("ff-asn-group")].filter(e=>e!==t)})(e).forEach(e=>{e.opened&&e.toggle(!0)})}_eventPath(e){var t=e.composedPath&&e.composedPath()||e.path,r=e.target;return null!=t?0>t.indexOf(window)?t.concat(window):t:r===window?[window]:[r].concat(function e(t,r){r=r||[];var n=t.parentNode;return n?e(n,r.concat(n)):r}(r),window)}}),g.override("OffCanvasFilter",class extends h{_onCloseOffCanvas(e){setTimeout(()=>{let t=e.detail.offCanvasContent&&e.detail.offCanvasContent[0];if(!t)throw Error("There was nothing passed as `event.detail.offCanvasContent` in the `onCloseOffcanvas` event");this._toggleASNMobileMode(t.querySelector("ff-asn")),document.querySelector("#filtersOrigin").appendChild(t)}),document.$emitter.unsubscribe("onCloseOffcanvas",this._onCloseOffCanvas.bind(this))}_onClickOffCanvasFilter(e){e.preventDefault();let t=document.querySelector('[data-offcanvas-filter-content="true"]');if(this._toggleASNMobileMode(t.querySelector("ff-asn")),!t)throw Error('There was no DOM element with the data attribute "data-offcanvas-filter-content".');d.open("",()=>{},"bottom",!0,d.REMOVE_OFF_CANVAS_DELAY(),!0,"offcanvas-filter"),setTimeout(()=>{document.querySelector(".offcanvas").appendChild(t)}),document.$emitter.subscribe("onCloseOffcanvas",this._onCloseOffCanvas.bind(this)),this.$emitter.publish("onClickOffCanvasFilter")}_toggleASNMobileMode(e){let t=e=>t=>r=>t.classList[e](...r),r=t("add"),n=t("remove");e.querySelectorAll("ff-asn-group").forEach(e=>{let i=e.querySelector('[slot="groupCaption"]'),s=e.querySelectorAll("ff-asn-group-element"),a=[this.ASNGroupMobileClass,"btn-block"];e.classList.contains(this.ASNGroupMobileClass)?t(e)(a):r(e)(a),i.classList.contains("btn-block")?n(i)(["btn-block"]):r(i)(["btn-block"]),s.forEach(e=>{e.classList.contains(this.ASNGroupElementMobileClass)?n(e)([this.ASNGroupElementMobileClass]):r(e)([this.ASNGroupElementMobileClass])})})}constructor(...e){super(...e),this.ASNMobileClass="ffw-asn-vertical",this.ASNGroupMobileClass="ffw-asn-group-vertical",this.ASNGroupElementMobileClass="ffw-asn-group-element-vertical"}},"[data-off-canvas-filter]")})()})();